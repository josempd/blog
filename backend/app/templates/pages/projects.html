{% extends "base.html" %}

{% block title %}Projects &mdash; {{ site_title }}{% endblock %}
{% block canonical %}{{ site_url }}/projects{% endblock %}
{% block og_url %}{{ site_url }}/projects{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Projects</h1>
</div>

{% if projects %}
    {% for project in projects %}
    <article class="project-card">
        <h2>{{ project.title }}</h2>
        {% if project.description %}
        <p>{{ project.description }}</p>
        {% endif %}
        {% if project.github_stars is not none %}
        <div class="project-meta">
            {% if project.github_language %}
            <span class="project-language">{{ project.github_language }}</span>
            {% endif %}
            <span class="project-stat" aria-label="{{ project.github_stars }} stars">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.75.75 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"/></svg>
                {{ project.github_stars }}
            </span>
            {% if project.github_forks %}
            <span class="project-stat" aria-label="{{ project.github_forks }} forks">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 0-1.5 0v.878H6.75v-.878a2.25 2.25 0 1 0-1.5 0ZM7.25 10.75a.75.75 0 0 1 1.5 0v.878a2.25 2.25 0 1 1-1.5 0v-.878Z"/><path d="M8 2.25a1 1 0 1 0 0 2 1 1 0 0 0 0-2ZM4 4.25a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm8 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2ZM8 12.25a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>
                {{ project.github_forks }}
            </span>
            {% endif %}
            {% if project.github_last_pushed_at %}
            <span class="project-stat">
                Updated <time datetime="{{ project.github_last_pushed_at.isoformat() }}">{{ project.github_last_pushed_at.strftime('%b %Y') }}</time>
            </span>
            {% endif %}
        </div>
        {% endif %}
        <div class="project-links">
            {% if project.url %}
            <a href="{{ project.url }}" class="btn btn--outline" rel="noopener noreferrer" target="_blank">Visit site <span class="sr-only">(opens in new tab)</span></a>
            {% endif %}
            {% if project.repo_url %}
            <a href="{{ project.repo_url }}" class="btn btn--outline" rel="noopener noreferrer" target="_blank">Source code <span class="sr-only">(opens in new tab)</span></a>
            {% endif %}
        </div>
    </article>
    {% endfor %}
{% else %}
    <p class="empty-state">No projects yet.</p>
{% endif %}
{% endblock %}
